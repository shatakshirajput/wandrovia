<% layout('/layouts/boilerplate') %>
<link rel="stylesheet" href="/css/auth.css">

<% const redirectTo = typeof query.redirect !== "undefined" ? query.redirect : "/listings"; %>

<div class="auth-wrapper slide-in-right">
  <!-- Left Card (Form) -->
  <div class="auth-card form-side">
    <h2>Login to Wandrovia</h2>
    <form action="/login" method="POST">
      <input type="hidden" name="redirectTo" value="<%= redirectTo %>">

      <label class="form-label" for="username">Username</label>
      <input class="form-control" type="text" id="username" name="username" required>

      <label class="form-label" for="password">Password</label>
      <input class="form-control" type="password" id="password" name="password" required>

      <button class="btn-auth" type="submit">Login</button>
    </form>
  </div>

  <!-- Right Card (Quote + Sign Up) -->
  <div class="auth-card info-side">
    <div class="info-content">
      <h2 class="typing-text"></h2>
    </div>
    <div class="info-footer">
      <p>Donâ€™t have an account?</p>
      <a href="/signup" class="btn-switch">Sign Up</a>
    </div>
  </div>
</div>

<script>
  const text = "Start your journey with Wandrovia.";
  const el = document.querySelector(".typing-text");
  let i = 0;
  function type() {
    if (i < text.length) {
      el.innerHTML += text.charAt(i);
      i++;
      setTimeout(type, 50);
    }
  }
  window.onload = type;
</script>
